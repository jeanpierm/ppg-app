<mat-card style="max-width: 700px">
  <mat-card-title>Editar cuenta</mat-card-title>
  <br />
  <mat-card-content>
    <form [formGroup]="form">
      <mat-grid-list cols="1" rowHeight="100px">
        <mat-grid-tile>
          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label>Nombres</mat-label>
            <input
              matInput
              class="capitalize"
              placeholder="Ingrese sus nombres"
              name="name"
              id="name"
              formControlName="name"
              [value]="form.get('name')?.value | titlecase"
            />
          </mat-form-field>
          <div *ngIf="validErrorForm('name')" class="alert-danger">
            <small>Nombre es requerido</small>
          </div>
        </mat-grid-tile>
        <br />

        <mat-grid-tile>
          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label>Apellidos</mat-label>
            <input
              class="capitalize"
              matInput
              placeholder="Ingrese sus Apellidos"
              name="surname"
              id="surname"
              formControlName="surname"
              [value]="form.get('surname')?.value | titlecase"
            />
          </mat-form-field>
          <div *ngIf="validErrorForm('surname')" class="alert-danger">
            <small>Apellidos son requerido</small>
          </div>
        </mat-grid-tile>
        <br />

        <mat-grid-tile>
          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label>Email</mat-label>
            <input
              matInput
              placeholder="Ingrese su email"
              name="email"
              id="email"
              formControlName="email"
            />
          </mat-form-field>
          <div *ngIf="validErrorForm('email')" class="alert-danger">
            <small>Formato incorrecto</small>
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </form>

    <section class="section">
      <mat-checkbox
        class="example-margin"
        [(ngModel)]="change_password"
        (change)="onChangeCheckBox()"
        >Cambiar contraseña</mat-checkbox
      >
    </section>

    <div *ngIf="change_password">
      <mat-grid-list cols="1" rowHeight="100px">
        <mat-grid-tile>
          <mat-form-field appearance="legacy" style="width: 25%">
            <mat-label>Contraseña actual</mat-label>
            <input
              matInput
              value=""
              placeholder="Ingrese sus nombres"
              [type]="hide ? 'password' : 'text'"
              [(ngModel)]="passwords.currentPassword"
            />
            <mat-icon matSuffix (click)="hide = !hide">{{
              hide ? 'visibility_off' : 'visibility'
            }}</mat-icon>
          </mat-form-field>
        </mat-grid-tile>
        <br />

        <mat-grid-tile>
          <mat-form-field appearance="legacy" style="width: 25%">
            <mat-label>Contraseña nueva</mat-label>
            <input
              matInput
              value=""
              placeholder="Ingrese sus Apellidos"
              [type]="hide_new ? 'password' : 'text'"
              [(ngModel)]="passwords.newPassword"
            />
            <mat-icon matSuffix (click)="hide_new = !hide_new">{{
              hide_new ? 'visibility_off' : 'visibility'
            }}</mat-icon>
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <button
      mat-raised-button
      color="primary"
      [disabled]="form.invalid || !isValidForm()"
      type="button"
      (click)="onSubmit()"
    >
      Guarda cambios
    </button>
  </mat-card-actions>
</mat-card>
