<mat-sidenav-container class="h-screen-custom">
  <mat-sidenav
    [opened]="sidenavOpened"
    (closed)="closeSidenav()"
    [mode]="mobileQuery.matches ? 'over' : 'side'"
    [fixedInViewport]="mobileQuery.matches"
    fixedTopGap="56"
    opened
  >
    <div class="avatar-container">
      <div
        #photo
        [ngStyle]="photoStyle"
        id="photo"
        alt="account photo"
        [matMenuTriggerFor]="menu"
      ></div>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="fileInput.click()">
          <mat-icon>upload</mat-icon>
          Subir foto
        </button>
        <button mat-menu-item (click)="removeAccountPhoto()">
          <mat-icon>delete</mat-icon>
          Eliminar foto
        </button>
      </mat-menu>
      <h3 class="account-name">{{ fullName | titlecase }}</h3>
      <mat-card-subtitle>{{ account.biography }}</mat-card-subtitle>
    </div>

    <input
      #fileInput
      type="file"
      style="display: none"
      (change)="uploadAccountPhoto()"
    />

    <mat-nav-list>
      <a
        *ngFor="let option of menuOptions"
        mat-list-item
        [routerLink]="option.path"
        (click)="mobileQuery.matches && closeSidenav()"
      >
        <mat-icon class="sidenav-icon" color="primary">
          {{ option.icon }}
        </mat-icon>
        <span class="ml-3">
          {{ option.label }}
        </span>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet (removePhoto)="removeAccountPhoto()"></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
